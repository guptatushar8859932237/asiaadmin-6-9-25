"use strict";(self.webpackChunkasia_direct=self.webpackChunkasia_direct||[]).push([[678],{9678:(e,s,a)=>{a.r(s),a.d(s,{default:()=>b});var o=a(7154),l=a(5043),n=a(5369),i=a(6971),t=a(7503),c=a(626),d=a(7260),r=a(1434),m=a(7149),p=a(4802),h=a(1888),x=a(6446),u=a(1906),g=a(3193),_=a(8356),j=a(2221),v=a(6990),f=a(918),N=a(579);const b=()=>{var e,s,a;const[b,y]=(0,l.useState)({customer_ref:"",goods_desc:"",destination:"",port_of_entry:"",port_of_exit:"",clearing_agent:"",comment_on_docs:""}),[C,w]=(0,l.useState)({supplier_invoice:[],other_documents:[],licenses:[],packing_list:[]}),[S,A]=(0,l.useState)([]),[k,F]=(0,l.useState)(""),[D,R]=(0,l.useState)(""),[E,P]=(0,l.useState)({}),[I,L]=(0,l.useState)([]),[O,T]=(0,l.useState)([]),[z,G]=(0,l.useState)([]),[M,Q]=(0,l.useState)([]),[U,B]=(0,l.useState)(1),[W,q]=(0,l.useState)(!1),[J,K]=(0,l.useState)(!1),[H,V]=(0,l.useState)(""),[Y,Z]=(0,l.useState)(!1),[X,$]=(0,l.useState)(!1),[ee,se]=(0,l.useState)(!1),[ae,oe]=(0,l.useState)(!1),[le,ne]=(0,l.useState)(!0),[ie,te]=(0,l.useState)(null),[ce,de]=(0,l.useState)(null),[re,me]=(0,l.useState)(!1),[pe,he]=(0,l.useState)([]),xe=()=>me(!1),ue=(0,i.Zp)(),ge=e=>{const{name:s,value:a}=e.target;y({...b,[s]:a})},_e=JSON.parse(localStorage.getItem("data123")),je=null===(e=JSON.parse(localStorage.getItem("data123")))||void 0===e?void 0:e.id,ve=null===(s=JSON.parse(localStorage.getItem("data123")))||void 0===s?void 0:s.user_type,fe=()=>{q(!1),oe(!1),P({})},Ne=e=>{const{name:s,value:a}=e.target;P({...E,[s]:a})},be=async()=>{try{ne(!0);if((await o.A.post("".concat("https://sisccltd.com/api/","CheckPermission"),{staff_id:je,route_url:"/clearing-list",user_type:ve})).data.success)try{var e;const s=await o.A.post("".concat("https://sisccltd.com/api/","clearing-list"),{added_by:"1"});A((null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.data)||[])}catch(l){var s,a;t.oR.error((null===(s=l.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Something went wrong")}else t.oR.error("Permission Denied")}catch(l){t.oR.error("Something went wrong")}finally{ne(!1)}},ye=()=>{K(!1)};(0,l.useEffect)((()=>{(async()=>{try{const e=await o.A.get("".concat("https://sisccltd.com/api/","staff-list"));console.log(e.data.data),L(e.data.data)}catch(e){console.log(e.response.data.data)}})(),be()}),[]);const Ce=e=>{B(e)},we=S.filter((e=>{var s,a,o,l,n,i,t,c,d,r;return console.log(e),(null===e||void 0===e||null===(s=e.clearance_number)||void 0===s||null===(a=s.toLowerCase())||void 0===a?void 0:a.includes(null===D||void 0===D?void 0:D.toLowerCase()))||(null===e||void 0===e||null===(o=e.client_name)||void 0===o||null===(l=o.toLowerCase())||void 0===l?void 0:l.includes(null===D||void 0===D?void 0:D.toLowerCase()))||(null===e||void 0===e||null===(n=e.goods_desc)||void 0===n||null===(i=n.toLowerCase())||void 0===i?void 0:i.includes(null===D||void 0===D?void 0:D.toLowerCase()))||(null===e||void 0===e||null===(t=e.port_of_entry_name)||void 0===t||null===(c=t.toLowerCase())||void 0===c?void 0:c.includes(null===D||void 0===D?void 0:D.toLowerCase()))||(null===e||void 0===e||null===(d=e.port_of_exit_name)||void 0===d||null===(r=d.toLowerCase())||void 0===r?void 0:r.includes(null===D||void 0===D?void 0:D.toLowerCase()))})),Se=Math.ceil(we.length/10),Ae=10*(U-1),ke=Ae+10,Fe=we.slice(Ae,ke);(0,l.useEffect)((()=>{De(),Re()}),[]);const De=()=>{o.A.get("".concat("https://sisccltd.com/api/","GetCountries")).then((e=>{console.log(e.data),T(e.data.data)})).catch((e=>{t.oR.errror(e.response.data.data)}))},Re=()=>{o.A.get("".concat("https://sisccltd.com/api/","client-list")).then((e=>{G(e.data.data)})).catch((e=>{console.log(e.response.data)}))};(0,l.useEffect)((()=>{Ee()}),[]);const Ee=()=>{o.A.get("".concat("https://sisccltd.com/api/","client-list")).then((e=>{Q(e.data.data)})).catch((e=>{console.log(e.response.data)}))},Pe=e=>{(e.charCode<44||e.charCode>57)&&e.preventDefault()},Ie=()=>se(!1);return(0,N.jsxs)(N.Fragment,{children:[le?(0,N.jsxs)("div",{class:"loader-container",children:[(0,N.jsx)("div",{class:"loader"}),(0,N.jsx)("p",{class:"loader-text",children:"Updating... This may take some time"})]}):(0,N.jsx)("div",{className:"wpWrapper",children:(0,N.jsxs)("div",{className:"container-fluid",children:[(0,N.jsx)("div",{className:"row manageFreight",children:(0,N.jsx)("div",{className:"col-12",children:(0,N.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,N.jsx)("div",{className:"",children:(0,N.jsx)("h4",{className:"freight_hd",children:"Custom Clearance Admin"})}),(0,N.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,N.jsx)("div",{className:"",children:(0,N.jsx)("input",{className:"px-2 py-1 rounded ",placeholder:"Search",value:D,onChange:e=>{R(e.target.value),B(1)}})}),(0,N.jsx)("div",{className:"mx-2",children:(0,N.jsx)("button",{type:"button",onClick:()=>{oe(!1),q(!0)},children:"Add"})}),(0,N.jsx)("div",{className:"dropdown",children:(0,N.jsx)("button",{onClick:()=>se(!0),children:"Filter"})})]})]})})}),(0,N.jsx)("div",{className:"mt-4",children:(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"table-responsive",children:(0,N.jsx)("table",{className:"table table-striped table-hover",children:(0,N.jsx)("tbody",{children:Fe.map(((e,s)=>(console.log(e),(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("tr",{children:(0,N.jsxs)("td",{className:"list_bd",children:[(0,N.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,N.jsxs)("div",{className:"d-flex align-items-center",children:[(0,N.jsx)("p",{className:"client_nm",children:e.client_name}),(0,N.jsx)("p",{className:"fright_no mx-2 fs-6",children:e.clearance_number})]}),(0,N.jsx)("div",{className:"",children:(0,N.jsx)("p",{className:"port_date",children:new Date(e.created_at).toLocaleDateString("en-GB")})})]}),(0,N.jsx)("div",{className:"container-fluid",children:(0,N.jsxs)("div",{className:"row",children:[(0,N.jsx)("div",{className:"col-md-3 ps-0",children:(0,N.jsx)("div",{className:"",children:(0,N.jsx)("p",{className:"origin",children:e.goods_desc})})}),(0,N.jsx)("div",{className:"col-md-5",children:(0,N.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,N.jsx)("p",{className:"origin",children:e.port_of_entry_name}),(0,N.jsx)("div",{className:"arrow",children:(0,N.jsx)("i",{className:"fi fi-rr-arrow-right mx-2 arr_icon"})}),(0,N.jsxs)("p",{className:"origin",children:[e.port_of_exit_name,(0,N.jsx)("span",{className:"fright_type"})]})]})}),(0,N.jsx)("div",{className:"col-md-2",children:(0,N.jsx)("div",{className:"text-center"})}),(0,N.jsx)("div",{className:"col-md-2 pe-0",children:(0,N.jsx)("div",{className:"text-end",children:(0,N.jsxs)("div",{className:"dropdown",children:[(0,N.jsx)("a",{href:"",type:"button",className:"act_btn dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),(0,N.jsxs)("div",{className:"dropdown-menu",children:[(0,N.jsxs)("a",{className:"dropdown-item li_icon",onClick:()=>(e=>{const s=S.find((s=>s.id===e));console.log(s),ue("/Admin/Custom-details",{state:{data:[s]}})})(e.id),children:[(0,N.jsx)(d.A,{style:{color:"rgb(27 34 69)",cursor:"pointer",marginRight:"10px",width:"20px"}}),"View Quotation"]}),(0,N.jsxs)("a",{className:"dropdown-item li_icon",onClick:()=>(e=>{const s=S.find((s=>s.id===e));console.log(s),ue("/Admin/AdminclearenceDetails",{state:{data:[s]}})})(e.id),children:[(0,N.jsx)(d.A,{style:{color:"rgb(27 34 69)",cursor:"pointer",marginRight:"10px",width:"20px"}}),"View Details"]}),(0,N.jsxs)("a",{className:"dropdown-item li_icon",onClick:()=>{return s=e.id,void o.A.post("".concat("https://sisccltd.com/api/","delete-clearing"),{clearing_id:s}).then((e=>{t.oR.success(e.data.message),be()})).catch((e=>{t.oR.error(e.response.data.message)}));var s},children:[(0,N.jsx)(r.F23,{className:"text-danger",style:{marginRight:"10px",width:"20px",cursor:"pointer",height:"20px"}}),"Delete"]}),(0,N.jsxs)("a",{className:"dropdown-item li_icon",onClick:()=>{return s=e.id,V(s),void K(!0);var s},children:[(0,N.jsx)(f.A,{className:"text-danger",style:{marginRight:"10px",width:"20px",cursor:"pointer",height:"20px"}}),"Attach Quotation"]}),(0,N.jsx)("a",{className:"dropdown-item li_icon",onClick:()=>(e=>{F(e);const s=S.find((s=>s.id===e));console.log(s),P({customer_ref:(null===s||void 0===s?void 0:s.customer_ref)||"",goods_desc:(null===s||void 0===s?void 0:s.goods_desc)||"",destination:(null===s||void 0===s?void 0:s.destination)||"",port_of_entry:(null===s||void 0===s?void 0:s.port_of_entry)||"",port_of_exit:(null===s||void 0===s?void 0:s.port_of_exit)||"",clearing_agent:(null===s||void 0===s?void 0:s.clearing_agent)||"",comment_on_docs:(null===s||void 0===s?void 0:s.comment_on_docs)||"",freight:null===s||void 0===s?void 0:s.freight,freight_option:s.freight_option,client:s.user_id,is_Import_Export:s.is_Import_Export,is_cong_shipp:s.is_cong_shipp,goods_desc:s.goods_desc,nature_of_goods:s.nature_of_goods,packing_type:s.packing_type,total_dimension:s.total_dimension,total_box:s.total_box,total_weight:s.total_weight,loading_country:s.loading_country,discharge_country:s.discharge_country,port_of_discharge:s.port_of_discharge,port_of_loading:s.port_of_loading,added_by:"2",sales_representative:null===s||void 0===s?void 0:s.sales_representative,customer_ref:null===s||void 0===s?void 0:s.customer_ref,destination:null===s||void 0===s?void 0:s.destination,comment_on_docs:null===s||void 0===s?void 0:s.comment_on_docs}),oe(!0),q(!0)})(e.id),children:(0,N.jsxs)("div",{className:"action_btn",children:[(0,N.jsx)(n.uO9,{style:{color:"rgb(11, 65, 112)",marginRight:"10px",width:"20px",height:"15px"}}),"Edit"]})}),(0,N.jsx)("a",{className:"dropdown-item li_icon NewDropdown",onClick:()=>(async e=>{try{if(!0===(await o.A.post("".concat("https://sisccltd.com/api/","CheckPermission"),{staff_id:je,route_url:"/MoveToClearaneOrder",user_type:ve})).data.success){S.filter((s=>s.id===e.id));const s={clearance_id:e.id,user_id:e.user_id};o.A.post("".concat("https://sisccltd.com/api/","MoveToClearaneOrder"),s).then((e=>{console.log(e.data),t.oR.success(e.data.message),be()})).catch((e=>{t.oR.error(e.response.data.message)}))}else t.oR.error("Permission Denied")}catch(s){t.oR.error("permission Denied")}})(e),children:(0,N.jsxs)("div",{className:"action_btn",children:[(0,N.jsx)(m.TAA,{style:{color:"rgb(27 34 69)",cursor:"pointer",marginRight:"10px",width:"20px"}}),"Inorder"]})}),(0,N.jsx)("a",{className:"dropdown-item li_icon NewDropdown",onClick:()=>(async e=>{console.log(e);const s=S.find((s=>s.id===e.id));console.log(s),ue("/Admin/Editpdfclearence",{state:{data:[s]}})})(e),children:(0,N.jsxs)("div",{className:"action_btn",children:[(0,N.jsx)(m.TAA,{style:{color:"rgb(27 34 69)",cursor:"pointer",marginRight:"10px",width:"20px"}}),"Edit Quotation"]})}),(0,N.jsx)("a",{className:"dropdown-item li_icon NewDropdown",onClick:()=>(async e=>{try{!0===(await o.A.post("".concat("https://sisccltd.com/api/","CheckPermission"),{staff_id:je,route_url:"/Admin/custom-calcualate",user_type:ve})).data.success?(console.log("a"),ue("/Admin/custom-calcualate",{state:{data:e}})):t.oR.error("Permission Denied")}catch(s){t.oR.error("Something went wrong")}})(e),children:(0,N.jsxs)("div",{className:"action_btn",children:[(0,N.jsx)(c.A,{style:{color:"rgb(27 34 69)",cursor:"pointer",marginRight:"10px",width:"20px"}}),"Get Estimate"]})})]})]})})})]})}),(0,N.jsxs)("div",{className:"d-flex",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{className:"input_user mb-0"}),(0,N.jsx)("label",{className:"status",children:1==e.quotation_status?(0,N.jsxs)("div",{className:"d-flex align-items-center",children:[(0,N.jsx)("span",{className:"dot bg-success me-2"}),(0,N.jsx)("p",{className:"text-success mb-0",children:"Accepted"})]}):2==e.quotation_status?(0,N.jsxs)("div",{className:"d-flex align-items-center",children:[(0,N.jsx)("span",{className:"dot bg-info me-2"}),(0,N.jsx)("p",{className:"text-info mb-0",children:"Declined"})]}):3==e.quotation_status?(0,N.jsxs)("div",{className:"d-flex align-items-center",children:[(0,N.jsx)("span",{className:"dot bg-success me-2"}),(0,N.jsx)("p",{className:"text-success mb-0",children:"Moved to Order"})]}):4==e.quotation_status?(0,N.jsx)("p",{className:"text-info mb-0",children:"Estimated"}):(0,N.jsxs)("div",{className:"d-flex align-items-center",children:[(0,N.jsx)("span",{className:"dot bg-secondary me-2"}),(0,N.jsx)("p",{className:"text-secondary mb-0",children:"Pending"})]})})]}),(0,N.jsx)("div",{className:"ms-4",children:(0,N.jsx)("p",{children:e.sales_name})})]})]})},s)}))))})})}),(0,N.jsxs)("div",{className:"text-center d-flex justify-content-end align-items-center",children:[(0,N.jsx)("button",{disabled:1===U,className:"bg_page",onClick:()=>Ce(U-1),children:(0,N.jsx)("i",{class:"fi fi-rr-angle-small-left page_icon"})}),(0,N.jsx)("span",{className:"mx-2",children:"Page ".concat(U," of ").concat(Se)}),(0,N.jsx)("button",{disabled:U===Se,className:"bg_page",onClick:()=>Ce(U+1),children:(0,N.jsx)("i",{class:"fi fi-rr-angle-small-right page_icon"})})]})]})})]})}),(0,N.jsx)(h.A,{open:J,onClose:ye,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,N.jsxs)(x.A,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper"},children:[(0,N.jsxs)("div",{className:"modal-header",children:[(0,N.jsx)("h2",{id:"modal-modal-title",children:"Attcah Quote"}),(0,N.jsx)("button",{className:"btn btn-close",onClick:ye,children:(0,N.jsx)(p.A,{})})]}),(0,N.jsxs)("div",{className:"newModalGap",children:[(0,N.jsx)("div",{className:"row my-2",children:(0,N.jsxs)("div",{className:"col-12 ",children:[(0,N.jsx)("label",{children:"Attach Quote"}),(0,N.jsx)("input",{type:"file",className:"form-cuntrol border px-3 w-100 py-2 rounded",onChange:e=>{de(e.target.files[0])},name:"file"})]})}),(0,N.jsx)(u.A,{variant:"contained",className:"text-center",onClick:()=>{const e=new FormData;e.append("clearing_id",H),e.append("file",ce),console.log(e),o.A.post("".concat("https://sisccltd.com/api/","AttachedShippingEstimate"),e).then((e=>{console.log(e.data),!0===e.data.success&&(t.oR.success(e.data.message),ye())})).catch((e=>{console.log(e.response.data),t.oR.error(e.response.data.message)}))},children:"Add Quote"})]})]})}),(0,N.jsx)(t.N9,{}),(0,N.jsx)("div",{className:"modal fade ".concat(W?"show ":""),style:{display:W?"block":"none"},tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,N.jsxs)("div",{className:"modal-dialog modal-dialog-scrollable modal-dialog-centered",children:[(0,N.jsxs)("div",{className:"modal-content",children:[(0,N.jsxs)("div",{className:"modal-header",children:[(0,N.jsxs)("h5",{className:"modal-title",id:"exampleModalLabel",children:[ae?"Update":"Add"," Custom Clearance"]}),(0,N.jsx)("button",{type:"button",className:"btn-close",onClick:fe,children:(0,N.jsx)(p.A,{})})]}),(0,N.jsxs)("div",{className:"modal-body noFormaControl",children:[(0,N.jsxs)("div",{className:"row",children:[(0,N.jsx)("div",{className:"col-md-6",children:(0,N.jsxs)("div",{className:"mb-2",children:[(0,N.jsx)("label",{htmlFor:"customer_ref",className:"form-label",children:"Mode of Freight"}),(0,N.jsxs)("select",{onChange:ae?Ne:ge,name:"freight",className:"w-100 py-2 px-2 sel_custom",value:ae?E.freight:b.freight,children:[(0,N.jsx)("option",{children:"Select..."}),(0,N.jsx)("option",{value:"Sea",children:"Sea"}),(0,N.jsx)("option",{value:"Air",children:"Air"}),(0,N.jsx)("option",{value:"Road",children:"Road"}),(0,N.jsx)("option",{value:"Rail",children:"Rail"})]})]})}),(0,N.jsxs)("div",{className:"col-md-6",children:[(0,N.jsx)("label",{className:"form-label",children:"Client "}),(0,N.jsxs)("select",{name:"client",onChange:ae?Ne:ge,value:ae?E.client:b.client,children:[(0,N.jsx)("option",{children:"Select..."}),M&&M.length>0&&M.map(((e,s)=>(console.log(e),(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("option",{value:e.id,children:e.full_name},s)}))))]})]})]}),(0,N.jsx)("div",{className:"row",children:(0,N.jsxs)("div",{className:"col-md-6",children:[Y&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("h5",{children:"Sea Freight Options"}),(0,N.jsxs)("select",{name:"seaOption",id:"seaOption",onChange:ae?Ne:ge,className:"w-100 py-2 px-2",children:[(0,N.jsx)("option",{value:"",children:"Select..."}),(0,N.jsx)("option",{value:"fullContainer",children:"Full Container"}),(0,N.jsx)("option",{value:"lessThanContainer",children:"Less than Container Size"})]})]}),X&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("h5",{children:"Road Freight Options"}),(0,N.jsxs)("select",{name:"roadOption",id:"roadOption",onChange:ae?Ne:ge,className:"w-100 py-2 px-2",children:[(0,N.jsx)("option",{value:"",children:"Select..."}),(0,N.jsx)("option",{value:"fullLoad",children:"Full Load"}),(0,N.jsx)("option",{value:"smallCargo",children:"Small Cargo for Console"})]})]})]})}),(0,N.jsxs)("div",{className:"row ",children:[(0,N.jsx)("div",{className:"col-md-6",children:(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{children:"Are You"}),(0,N.jsx)("div",{className:"shipRefer",children:ae?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("input",{type:"radio",id:"statusShipper",name:"is_cong_shipp",value:"shipper",checked:"shipper"===E.is_cong_shipp,onChange:Ne}),(0,N.jsx)("label",{htmlFor:"statusShipper",children:"Shipper "}),(0,N.jsx)("input",{type:"radio",id:"statusConsignee",name:"is_cong_shipp",value:"consignee",checked:"consignee"===E.is_cong_shipp,onChange:Ne}),(0,N.jsx)("label",{htmlFor:"statusConsignee",children:"Consignee "})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("input",{type:"radio",id:"statusShipper",name:"is_cong_shipp",value:"shipper",onChange:ge}),(0,N.jsx)("label",{htmlFor:"statusShipper",children:"Shipper "}),(0,N.jsx)("input",{type:"radio",id:"statusConsignee",name:"is_cong_shipp",value:"consignee",onChange:ge}),(0,N.jsx)("label",{htmlFor:"statusConsignee",children:"Consignee "})]})})]})}),(0,N.jsxs)("div",{className:"col-md-6",children:[(0,N.jsx)("label",{children:"Is this"}),(0,N.jsx)("div",{className:"shipRefer d-flex",children:ae?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"d-flex align-items-center",children:[(0,N.jsx)("input",{type:"radio",id:"statusOne",name:"is_Import_Export",value:"import",checked:"import"===E.is_Import_Export,onChange:Ne,className:"check_input"}),(0,N.jsx)("label",{htmlFor:"statusOne",children:"Import"})]}),(0,N.jsxs)("div",{className:"d-flex align-items-center",children:[(0,N.jsx)("input",{type:"radio",id:"statusTwo",name:"is_Import_Export",value:"export",checked:"export"===E.is_Import_Export,onChange:Ne,className:"check_input"}),(0,N.jsx)("label",{htmlFor:"statusTwo",children:"Export"})]})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"d-flex align-items-center",children:[(0,N.jsx)("input",{type:"radio",id:"statusOne",name:"is_Import_Export",value:"import",onChange:ge,className:"check_input"}),(0,N.jsx)("label",{htmlFor:"statusOne",children:"Import"})]}),(0,N.jsxs)("div",{className:"d-flex align-items-center",children:[(0,N.jsx)("input",{type:"radio",id:"statusTwo",name:"is_Import_Export",value:"export",onChange:ge,className:"check_input"}),(0,N.jsx)("label",{htmlFor:"statusTwo",children:"Export"})]})]})})]})]}),(0,N.jsxs)("div",{className:"row",children:[(0,N.jsxs)("div",{className:"col-md-6",children:[(0,N.jsx)("label",{children:"Shipment Refrence"}),(0,N.jsx)("div",{className:"shipRefer",children:(0,N.jsx)("input",{type:"text",id:"stausone",name:"customer_ref",className:"w-100 rounded py-1 px-2 sel_custom",onChange:ae?Ne:ge,value:ae?E.customer_ref:b.customer_ref,placeholder:"Shipment Reference"})})]}),(0,N.jsxs)("div",{className:"col-md-6",children:[(0,N.jsx)("label",{children:"Sales Representative"}),(0,N.jsx)("div",{className:"shipRefer",children:(0,N.jsxs)("select",{name:"sales_representative",onChange:ae?Ne:ge,value:ae?E.sales_representative:b.sales_representative,children:[(0,N.jsx)("option",{value:"",children:"Select..."}),I&&I.length>0&&I.map(((e,s)=>(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("option",{value:e.id,children:e.full_name},s)})))]})})]})]}),(0,N.jsx)("div",{className:"row",children:(0,N.jsx)("div",{className:"col-md-12",children:(0,N.jsx)("h6",{className:"md_heading text-start",children:"Port of Clearing Details"})})}),(0,N.jsxs)("div",{className:"row",children:[(0,N.jsx)("div",{className:"col-md-6",children:(0,N.jsxs)("div",{className:"mb-3",children:[(0,N.jsx)("label",{htmlFor:"destination",className:"form-label",children:"Port of Loading Country"}),(0,N.jsxs)("select",{id:"port_of_entry",name:"loading_country",value:ae?E.loading_country:b.loading_country,onChange:ae?Ne:ge,children:[(0,N.jsx)("option",{children:"Select..."}),O&&O.length>0&&O.map(((e,s)=>(console.log(e),(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("option",{value:e.id,children:e.name},s)}))))]})]})}),(0,N.jsx)("div",{className:"col-md-6",children:(0,N.jsxs)("div",{className:"mb-3",children:[(0,N.jsx)("label",{htmlFor:"port_of_entry",className:"form-label",children:"Port of Exit Country"}),(0,N.jsxs)("select",{id:"port_of_entry",name:"discharge_country",value:ae?E.discharge_country:b.discharge_country,onChange:ae?Ne:ge,children:[(0,N.jsx)("option",{children:"Select..."}),O&&O.length>0&&O.map(((e,s)=>(console.log(e),(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("option",{value:e.id,children:e.name},s)}))))]})]})})]}),(0,N.jsxs)("div",{className:"row",children:[(0,N.jsx)("div",{className:"col-md-6",children:(0,N.jsxs)("div",{className:"mb-3",children:[(0,N.jsx)("label",{htmlFor:"port_of_exit",className:"form-label",children:"Port of Loading"}),(0,N.jsx)("input",{className:"form-control",name:"port_of_loading",onChange:ae?Ne:ge,value:ae?E.port_of_loading:b.port_of_loading,placeholder:"Port of Loading"})]})}),(0,N.jsx)("div",{className:"col-md-6",children:(0,N.jsxs)("div",{className:"mb-3",children:[(0,N.jsx)("label",{htmlFor:"clearing_agent",className:"form-label",children:"Port of Discharge"}),(0,N.jsx)("input",{className:"form-control",name:"port_of_discharge",onChange:ae?Ne:ge,value:ae?E.port_of_discharge:b.port_of_discharge,placeholder:"Port of Discharge"})]})})]}),(0,N.jsxs)("div",{className:"row mb-3 mt-4",children:[(0,N.jsxs)("div",{className:"col-9 mt-3",children:[(0,N.jsx)("h4",{className:"freight_hd",children:"Document Section"}),(0,N.jsx)("span",{class:"line"})]}),(0,N.jsxs)("div",{className:"col-3",children:[(0,N.jsx)(u.A,{className:"btn  btn-primary",onClick:()=>me(!0),children:"Upload Documents"}),re?(0,N.jsx)(h.A,{open:re,onClose:xe,slotProps:{backdrop:{sx:{backgroundColor:"rgba(0,0,0,0.2)"}}},children:(0,N.jsxs)(x.A,{sx:{p:3,bgcolor:"background.paper",borderRadius:2,width:500,mx:"auto",mt:10},children:[(0,N.jsx)("h2",{children:"Upload Documents"}),(0,N.jsxs)(g.A,{fullWidth:!0,sx:{mt:2},children:[(0,N.jsx)(_.A,{id:"doc-select-label",children:"Select Document Type"}),(0,N.jsx)(j.A,{labelId:"doc-select-label",onChange:e=>{const s=e.target.value;s&&!pe.find((e=>e.name===s))&&he([...pe,{name:s,files:[]}])},children:[{id:"Customs Documents",label:"Customs docs"},{id:"Supporting Documents",label:"Supporting docs"},{id:"Invoice, Packing List",label:"Invoice / Packing "},{id:"Product Literature",label:"Product Literature"},{id:"Letters of authority",label:"Letters of authority"},{id:"Waybills",label:"Freight Docs"},{id:"Waybills",label:"Shipping instruction"},{id:"AD_Quotations",label:"Attach Quote"},{id:"Supplier Invoices",label:"Supplier Invoices"}].map((e=>(0,N.jsx)(v.A,{value:e.id,children:e.label},e.id)))})]}),(0,N.jsx)("div",{className:"mt-3",children:pe.map(((e,s)=>(0,N.jsxs)("div",{className:"mb-3",children:[(0,N.jsx)("label",{className:"fw-bold",children:e.name}),(0,N.jsx)("input",{type:"file",className:"form-control",multiple:!0,accept:"image/*,application/pdf",onChange:s=>((e,s)=>{const a=Array.from(e.target.files);he((e=>e.map((e=>e.name===s?{...e,files:a}:e))))})(s,e.name)})]},s)))}),(0,N.jsxs)(x.A,{sx:{display:"flex",justifyContent:"flex-end",gap:2,mt:3},children:[(0,N.jsx)(u.A,{onClick:xe,children:"Cancel"}),(0,N.jsx)(u.A,{variant:"contained",color:"success",onClick:()=>{console.log("Uploaded Documents:",pe),pe.forEach((e=>{console.log("Doc Type:",e),e.files.forEach((e=>{console.log("File:",e.name,"| Size:",e.size,"bytes")}))})),xe()},children:"Save Documents"})]})]})}):""]})]}),(0,N.jsx)("div",{className:"row",children:(0,N.jsx)("div",{className:"col-md-12",children:(0,N.jsx)("h6",{className:"md_heading text-start",children:"Cargo Details"})})}),(0,N.jsxs)("div",{className:"row",children:[(0,N.jsx)("div",{className:"col-md-6",children:(0,N.jsxs)("div",{className:"mb-3",children:[(0,N.jsx)("label",{htmlFor:"port_of_exit",className:"form-label",children:"Product Description"}),(0,N.jsx)("input",{className:"form-control",name:"goods_desc",value:ae?E.goods_desc:b.goods_desc,onChange:ae?Ne:ge,placeholder:"Product Description"})]})}),(0,N.jsx)("div",{className:"col-md-6",children:(0,N.jsxs)("div",{className:"mb-3",children:[(0,N.jsx)("label",{htmlFor:"clearing_agent",className:"form-label",children:"Nature of Goods"}),(0,N.jsxs)("select",{id:"clearing_agent",name:"nature_of_goods",value:ae?E.nature_of_goods:b.nature_of_goods,onChange:ae?Ne:ge,children:[(0,N.jsx)("option",{children:"Select..."}),(0,N.jsx)("option",{value:"General Cargo",children:"General Cargo"}),(0,N.jsx)("option",{value:"Battery",children:"Battery"}),(0,N.jsx)("option",{value:"Powders",children:"Powders"}),(0,N.jsx)("option",{value:"Hazardous",children:"Hazardous"})]})]})})]}),(0,N.jsxs)("div",{className:"row",children:[(0,N.jsx)("div",{className:"col-md-6",children:(0,N.jsxs)("div",{className:"mb-3",children:[(0,N.jsx)("label",{htmlFor:"port_of_exit",className:"form-label",children:"Type of Packing"}),(0,N.jsxs)("select",{name:"packing_type",value:ae?E.packing_type:b.packing_type,onChange:ae?Ne:ge,children:[(0,N.jsx)("option",{children:"Select..."}),(0,N.jsx)("option",{value:"box",children:"Box"}),(0,N.jsx)("option",{value:"crate",children:"Crate"}),(0,N.jsx)("option",{value:"pallet",children:"Pallet"}),(0,N.jsx)("option",{value:"bags",children:"Bags"})]})]})}),(0,N.jsx)("div",{className:"col-md-6",children:(0,N.jsxs)("div",{className:"mb-3",children:[(0,N.jsx)("label",{htmlFor:"clearing_agent",className:"form-label",children:"Comment on Goods"}),(0,N.jsx)("input",{className:"form-control",name:"comment_on_docs",onChange:ae?Ne:ge,value:ae?E.comment_on_docs:b.comment_on_docs,placeholder:"Comment on Docs"})]})})]}),(0,N.jsxs)("div",{className:"row",children:[(0,N.jsx)("div",{className:"col-md-6",children:(0,N.jsxs)("div",{className:"mb-3",children:[(0,N.jsx)("label",{htmlFor:"port_of_exit",className:"form-label",children:"No of package"}),(0,N.jsx)("input",{className:"form-control",onKeyPress:Pe,name:"total_box",value:ae?E.total_box:b.total_box,onChange:ae?Ne:ge,placeholder:"0.00"})]})}),(0,N.jsx)("div",{className:"col-md-6",children:(0,N.jsxs)("div",{className:"mb-3",children:[(0,N.jsx)("label",{htmlFor:"clearing_agent",className:"form-label",children:"Total Dimension"}),(0,N.jsx)("input",{className:"form-control",onKeyPress:Pe,name:"total_dimension",onChange:ae?Ne:ge,value:ae?null===(a=E.total_dimension)||void 0===a?void 0:a.toLocaleString():b.total_dimension,placeholder:"0.00"})]})})]}),(0,N.jsx)("div",{className:"row",children:(0,N.jsx)("div",{className:"col-md-6",children:(0,N.jsxs)("div",{className:"mb-3",children:[(0,N.jsx)("label",{htmlFor:"port_of_exit",className:"form-label",children:"Weight"}),(0,N.jsx)("input",{className:"form-control",name:"total_weight",onKeyPress:Pe,onChange:ae?Ne:ge,value:ae?E.total_weight:b.total_weight,placeholder:"0.00"})]})})})]}),(0,N.jsxs)("div",{className:"modal-footer",children:[(0,N.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>{ae?(async()=>{try{if((await o.A.post("".concat("https://sisccltd.com/api/","CheckPermission"),{staff_id:je,route_url:"/update-clearing",user_type:ve})).data.success){const e=new FormData;e.append("added_by","1"),e.append("clearing_id",k),e.append("freight",E.freight),e.append("freight_option",E.freight_option),e.append("is_Import_Export",E.is_Import_Export),e.append("uploaded_by","1"),e.append("is_cong_shipp",E.is_cong_shipp),e.append("goods_desc",E.goods_desc),e.append("nature_of_goods",E.nature_of_goods),e.append("packing_type",E.packing_type),e.append("total_dimension",E.total_dimension),e.append("total_box",E.total_box),e.append("total_weight",E.total_weight),e.append("loading_country",E.loading_country),e.append("discharge_country",E.discharge_country),e.append("client",E.client),e.append("port_of_discharge",E.port_of_discharge),e.append("port_of_loading",E.port_of_loading),e.append("comment_on_docs",E.comment_on_docs),e.append("customer_ref",E.customer_ref),e.append("sales_representative",E.sales_representative),e.append("documentName",E.documentName),pe.forEach((s=>{console.log("Doc Type:",s.name),s.files.forEach((a=>{e.append(s.name,a),console.log("File:",a.name,"| Size:",a.size,"bytes")}))})),o.A.post("".concat("https://sisccltd.com/api/","update-clearing"),e).then((e=>{t.oR.success(e.data.message),be(),q(!1)})).catch((e=>{t.oR.error(e.response.data.message)}))}else t.oR.error("Permission Denied")}catch{console.log("access denied")}})():(()=>{console.log(_e.id);const e=new FormData;e.append("user_id",b.client),e.append("freight",null===b||void 0===b?void 0:b.freight),e.append("freight_option",b.freight_option),e.append("is_Import_Export",b.is_Import_Export),e.append("is_cong_shipp",b.is_cong_shipp),e.append("goods_desc",b.goods_desc),e.append("nature_of_goods",b.nature_of_goods),e.append("packing_type",b.packing_type),e.append("total_dimension",b.total_dimension),e.append("total_box",b.total_box),e.append("total_weight",b.total_weight),e.append("loading_country",b.loading_country),e.append("discharge_country",b.discharge_country),e.append("client",b.client),e.append("port_of_discharge",b.port_of_discharge),e.append("port_of_loading",b.port_of_loading),e.append("added_by","1"),e.append("customer_ref",null===b||void 0===b?void 0:b.customer_ref),e.append("destination",null===b||void 0===b?void 0:b.destination),e.append("document",ie),e.append("comment_on_docs",null===b||void 0===b?void 0:b.comment_on_docs),e.append("documentName",null===b||void 0===b?void 0:b.documentName),e.append("sales_representative",null===b||void 0===b?void 0:b.sales_representative),console.log(e),pe.forEach((s=>{console.log("Doc Type:",s.name),s.files.forEach((a=>{e.append(s.name,a),console.log("File:",a.name,"| Size:",a.size,"bytes")}))}));for(let[s,a]of e.entries())console.log("".concat(s,": ").concat(a));o.A.post("".concat("https://sisccltd.com/api/","add-clearing-customer"),e).then((e=>{t.oR.success(e.data.message),q(!1),be()})).catch((e=>{t.oR.error(e.response.data.message)}))})()},children:ae?"Update":"Add"}),(0,N.jsx)("button",{type:"button",className:"btn btn-secondary close",onClick:fe,children:"Close"})]})]}),(0,N.jsx)(h.A,{open:ee,onClose:Ie,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,N.jsxs)(x.A,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24},children:[(0,N.jsxs)("div",{className:"modal-header",children:[(0,N.jsx)("h2",{children:(0,N.jsx)("h2",{id:"modal-modal-title",children:"Filter"})}),(0,N.jsx)("button",{className:"btn btn-close",onClick:Ie,children:(0,N.jsx)(p.A,{})})]}),(0,N.jsxs)("div",{className:"newModalGap noFormaControl mt-2",children:[(0,N.jsxs)("div",{className:"row mb-2",children:[(0,N.jsxs)("div",{className:"col-6",children:[(0,N.jsx)("label",{children:"Country of Origin"}),(0,N.jsxs)("select",{name:"origin",onChange:ge,children:[(0,N.jsx)("option",{value:"",children:"Select"}),O&&O.length>0&&O.map(((e,s)=>(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("option",{value:e.id,children:e.name})})))]})]}),(0,N.jsxs)("div",{className:"col-6",children:[(0,N.jsx)("label",{children:"Delivery to Country "}),(0,N.jsxs)("select",{name:"destination",onChange:ge,children:[(0,N.jsx)("option",{value:"",children:"Select"}),O&&O.length>0&&O.map(((e,s)=>(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("option",{value:e.id,children:e.name})})))]})]})]}),(0,N.jsxs)("div",{className:"row mb-2",children:[(0,N.jsxs)("div",{className:"col-6",children:[(0,N.jsx)("label",{children:"Start Date"}),(0,N.jsx)("input",{type:"date",id:"shipper3",name:"startDate",style:{cursor:"pointer"},className:"form-control",onChange:ge})]}),(0,N.jsxs)("div",{className:"col-6",children:[(0,N.jsx)("label",{children:"End Date "}),(0,N.jsx)("input",{type:"date",id:"shipper3",name:"endDate",style:{cursor:"pointer"},className:"form-control",onChange:ge})]})]}),(0,N.jsx)("div",{className:"row mb-2",children:(0,N.jsxs)("div",{className:"col-12",children:[(0,N.jsx)("label",{children:"Freight"}),(0,N.jsxs)("select",{name:"freight",onChange:ge,children:[(0,N.jsx)("option",{value:"",children:"Select..."}),(0,N.jsx)("option",{value:"Sea",children:"Sea"}),(0,N.jsx)("option",{value:"Air",children:"Air"}),(0,N.jsx)("option",{value:"Road",children:"Road"})]})]})}),(0,N.jsx)(u.A,{variant:"contained",onClick:()=>{const e={origin:b.origin,destination:b.destination,startDate:b.startDate,endDate:b.endDate,clearingType:b.clearingType,clearing_status:b.clearing_status,added_by:"1"};o.A.post("".concat("https://sisccltd.com/api/","clearing-list"),e).then((e=>{!0===e.data.success&&(Ie(),A(e.data.data))})).catch((e=>{t.oR.error(e.response.data.message)}))},children:"Apply"})]})]})})]})})]})}}}]);
//# sourceMappingURL=678.9f800608.chunk.js.map