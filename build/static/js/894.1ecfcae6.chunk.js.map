{"version":3,"file":"static/js/894.1ecfcae6.chunk.js","mappings":"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","sources":["components/profile/Profile.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { MyContext1 } from \"../../Context/MyContext\";\nexport default function Profile() {\n  const [data, setData] = useState({});\n  const{text,setText}=useContext(MyContext1)\n  const [profileImage, setProfileImage] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchData();\n  }, []);\nconst datauserId = JSON.parse(localStorage.getItem(\"data123\"))\n  const fetchData = async () => {\n    try {\n      const response = await axios.post(`${process.env.REACT_APP_BASE_URL}get-profile-admin`, {\n        user_id: datauserId.id,\n      });\n      setData(response.data.data);\n    } catch (error) {\n      console.error(error.response?.data);\n      toast.error(\"Failed to fetch profile data\");\n    }\n  };\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setData({ ...data, [name]: value });\n  };\n  const handlePostData = async () => {\n    try {\n      setLoading(true); \n      const formData = new FormData();\n      formData.append('profile', profileImage);\n      formData.append('full_name', data.full_name);\n      formData.append('email', data.email);\n      formData.append(\"id\",datauserId.id );\n      await axios.post(`${process.env.REACT_APP_BASE_URL}update-profile`, formData).then((response)=>{\n        setText(response.data.data[0].profile)\n      })\n          toast.success(\"Profile updated successfully\");\n      fetchData(); \n    } catch (error) {\n      console.error(error.response?.data);\n      toast.error(\"Failed to update profile\");\n    } finally {\n      setLoading(false); \n    }\n  };\n  const handleChangeFile = (e) => {\n    const file = e.target.files[0];\n    setProfileImage(file);\n  };\n  return (\n    <>\n      <div className=\"wpWrapper\">\n        <div className=\"container-fluid\">\n          <div className=\"card\">\n            <div className=\"card-body\">\n              <div className=\"row\">\n                <div className=\"col-12\">\n                  <div className=\"d-flex justify-content-between align-items-center\">\n                    <div className=\"\">\n                      <h4 className=\"freight_hd\">Profile </h4>\n                    </div>\n                    <div className=\"\">\n                      <button\n                        type=\"button\"\n                        className=\"btn up_btn\"\n                        data-bs-toggle=\"modal\"\n                        data-bs-target=\"#staticBackdrop\"\n                      >\n                        Update\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div\n                className=\"modal fade\"\n                id=\"staticBackdrop\"\n                data-bs-backdrop=\"static\"\n                data-bs-keyboard=\"false\"\n                tabIndex={-1}\n                aria-labelledby=\"staticBackdropLabel\"\n                aria-hidden=\"true\"\n              >\n                <div className=\"modal-dialog\">\n                  <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                      <h1 className=\"modal-title fs-5\" id=\"staticBackdropLabel\">\n                        Update Profile\n                      </h1>\n                      <button\n                        type=\"button\"\n                        className=\"btn-close\"\n                        data-bs-dismiss=\"modal\"\n                        aria-label=\"Close\"\n                      />\n                    </div>\n                    <div className=\"modal-body\">\n                      <div className=\"row mb-0\">\n                        <div className=\"profileImgAdmin mb-5 text-center\">\n                          <img\n                            src={`${process.env.REACT_APP_BASE_URL_image}${data.profile}`}\n                            name=\"profile\"\n                            style={{ width: \"130px\", height: \"130px\", borderRadius: \"50%\" }}\n                            alt=\"Profile\"\n                          />\n                        </div>\n                        <div className=\"profileContent\">\n                          <div className=\"row\">\n                            <div className=\"col-12\">\n                              <input\n                                type=\"file\"\n                                name=\"profile\"\n                                onChange={handleChangeFile}\n                                className=\"w-100 mb-3 px-2 py-2 rounded border\"\n                              />\n                            </div>\n                            <div className=\"col-12\">\n                              <input\n                                value={data.full_name || \"\"}\n                                name=\"full_name\"\n                                onChange={handleChange}\n                                className=\"w-100 mb-3 px-2 py-2 rounded border\"\n                              />\n                            </div>\n                            <div className=\"col-12\">\n                              <input\n                                value={data.email || \"\"}\n                                name=\"email\"\n                                onChange={handleChange}\n                                className=\"w-100 mb-3 px-2 py-2 rounded border\"\n                              />\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"modal-footer\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-secondary\"\n                          data-bs-dismiss=\"modal\"\n                        >\n                          Close\n                        </button>\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-primary\"\n                          onClick={handlePostData}\n                          disabled={loading} // Disable button during loading\n                        >\n                          {loading ? \"Saving...\" : \"Save Changes\"}\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"row mt-3\">\n                <div className=\"col-3\">\n                  <div className=\"pro_box1\">\n                    <div className=\"img_profile\">\n                      <img\n                        src={`${process.env.REACT_APP_BASE_URL_image}${text}`}\n                        className=\"pro_img\"\n                        alt=\"Profile\"\n                      />\n                    </div>\n                    <p className=\"img_para\">Profile Image</p>\n                  </div>\n                </div>\n                <div className=\"col-9\">\n                  <div className=\"pro_box\">\n                    <div className=\"profileContent\">\n                      <h4>Basic Information</h4>\n                      <div className=\"row\">\n                        <div className=\"col-lg-6\">\n                          <p><strong>Role:</strong> <span>{data.Role}</span></p>\n                        </div>\n                        <div className=\"col-lg-6\">\n                          <p><strong>Full Name:</strong> <span>{data.full_name}</span></p>\n                        </div>\n                      </div>\n                      <div className=\"row\">\n                        <div className=\"col-lg-12\">\n                          <p><strong>Email:</strong> <span>{data.email}</span></p>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div >\n        </div>\n      </div>\n    </>\n  );\n}\n"],"names":["Profile","data","setData","useState","text","setText","useContext","MyContext1","profileImage","setProfileImage","loading","setLoading","useNavigate","useEffect","fetchData","datauserId","JSON","parse","localStorage","getItem","async","response","axios","post","concat","process","user_id","id","error","_error$response","console","toast","handleChange","e","name","value","target","_jsx","_Fragment","children","className","_jsxs","type","tabIndex","src","profile","style","width","height","borderRadius","alt","onChange","file","files","full_name","email","onClick","formData","FormData","append","then","success","_error$response2","disabled","Role"],"sourceRoot":""}